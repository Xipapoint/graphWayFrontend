Code from previous versions. Currently implementing in src